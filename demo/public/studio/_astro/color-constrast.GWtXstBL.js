import{r as n}from"./index.LFf77hJu.js";import{c as R}from"./panda-context.YtxRu5Jn.js";import{S}from"./input.tWypQ7X1.js";import{S as C,E as g}from"./icons.--KVVp2d.js";import{H as u}from"./hstack.KgbrmnAD.js";import{T as G}from"./token-content.FftrDdcu.js";import{T as b}from"./token-group.kTnyHrk0.js";import{s as W,p as c}from"./factory.P08CoaBK.js";import{g as T}from"./vstack.hTd45VIS.js";import{S as m}from"./stack.EKJsKtpq.js";import"./index.jhg3dtMR.js";import"./hstack.kbGqP_Sr.js";const k=n.forwardRef(function(e,t){const[r,s]=W(e,["justify","gap"]),o=T(r),l={ref:t,...o,...s};return n.createElement(c.div,l)});class f{constructor(){this.r=0,this.g=0,this.b=0,this.toString=()=>"<r: "+this.r+" g: "+this.g+" b: "+this.b+" >"}}class p{constructor(){this.WCAG_AA=!1,this.WCAG_AAA=!1,this.customRatio=void 0,this.toString=()=>"< WCAG-AA: "+(this.WCAG_AA?"pass":"fail")+" WCAG-AAA: "+(this.WCAG_AAA?"pass":"fail")+" >"}}let _=class{constructor(){this.fontSize=14,this.rgbClass=new f,this.isValidSixDigitColorCode=e=>/^(#)?([0-9a-fA-F]{6})?$/.test(e),this.isValidThreeDigitColorCode=e=>/^(#)?([0-9a-fA-F]{3})?$/.test(e),this.isValidColorCode=e=>this.isValidSixDigitColorCode(e)||this.isValidThreeDigitColorCode(e),this.isValidRatio=e=>typeof e=="number",this.convertColorToSixDigit=e=>"#"+e[1]+e[1]+e[2]+e[2]+e[3]+e[3],this.hexToLuminance=e=>{if(!this.isValidColorCode(e))throw new Error("Invalid Color :"+e);this.isValidThreeDigitColorCode(e)&&(e=this.convertColorToSixDigit(e));const t=this.getRGBFromHex(e),r=this.calculateLRGB(t);return this.calculateLuminance(r)},this.check=(e,t,r,s)=>{if(typeof r<"u"&&(this.fontSize=r),!e||!t)return!1;const o=this.hexToLuminance(e),l=this.hexToLuminance(t),a=this.getContrastRatio(o,l);return typeof s<"u"?this.isValidRatio(s)?this.verifyCustomContrastRatio(a,s):!1:this.verifyContrastRatio(a)},this.checkPairs=(e,t)=>{const r=[];for(const s in e){const o=e[s];typeof o.fontSize<"u"?r.push(this.check(o.colorA,o.colorB,o.fontSize,t)):r.push(this.check(o.colorA,o.colorB,void 0,t))}return r},this.calculateLuminance=e=>.2126*e.r+.7152*e.g+.0722*e.b,this.isLevelAA=(e,t,r)=>this.check(e,t,r).WCAG_AA,this.isLevelAAA=(e,t,r)=>this.check(e,t,r).WCAG_AAA,this.isLevelCustom=(e,t,r)=>this.check(e,t,void 0,r).customRatio,this.getRGBFromHex=e=>{const t=new f;if(typeof e!="string")throw new Error("must use string");const r=parseInt(e.slice(1,3),16),s=parseInt(e.slice(3,5),16),o=parseInt(e.slice(5,7),16);return t.r=r,t.g=s,t.b=o,t},this.calculateSRGB=e=>{const t=new f;for(const r in e)t[r]=parseFloat((e[r]/255).toString());return t},this.calculateLRGB=e=>{const t=this.calculateSRGB(e),r=Object.create(this.rgbClass);let s=0;for(const o in t)s=parseFloat(t[o]),s<=.03928?r[o]=s/12.92:r[o]=Math.pow((s+.055)/1.055,2.4);return r},this.getContrastRatio=(e,t)=>{let r,s;return e>=t?(r=e,s=t):(r=t,s=e),(r+.05)/(s+.05)},this.verifyContrastRatio=e=>{const a=new p;return(this.fontSize||14)>=18?(a.WCAG_AA=e>=3,a.WCAG_AAA=e>=4.5):(a.WCAG_AA=e>=4.5,a.WCAG_AAA=e>=7),a},this.verifyCustomContrastRatio=(e,t)=>{const r=new p;r.toString=function(){return"< Custom Ratio: "+(this.customRatio?"pass":"fail")+"  >"};const s=Object.create(r);return s.customRatio=e>=t,s}}};const v=(i,e)=>{const t=new _;let r;try{r=t.checkPairs([{colorA:i,colorB:e,fontSize:14},{colorA:i,colorB:e,fontSize:18}])}catch{}return r},x=(i,e)=>{const t=new _;let r,s,o;try{r=t.hexToLuminance(i),s=t.hexToLuminance(e),o=t.getContrastRatio(r,s)}catch{}return o};function d(i){const{score:e,size:t}=i;return n.createElement(n.Fragment,null,n.createElement(u,{justify:"space-between",fontWeight:"medium"},n.createElement(u,{gap:"2"},n.createElement("span",null,e.WCAG_AA?n.createElement(C,null):n.createElement(g,null)),n.createElement("span",null,"AA")),n.createElement("span",null,t==="regular"?"4.5:1":"3:1")),n.createElement(u,{justify:"space-between",fontWeight:"medium"},n.createElement(u,{gap:"2"},n.createElement("span",null,e.WCAG_AAA?n.createElement(C,null):n.createElement(g,null)),n.createElement("span",null,"AAA")),n.createElement("span",null,t==="regular"?"7:1":"4.5:1")))}function E(i){const{title:e,colors:t,onChange:r,value:s}=i;return n.createElement(m,{flex:"1"},n.createElement(c.span,{fontWeight:"semibold"},e),n.createElement(c.div,{display:"flex",flexDirection:"column",borderWidth:"1px",borderColor:"card",pt:"16",style:{background:s}}),n.createElement(S,{value:s,onChange:o=>r(o.currentTarget.value)},t.map(o=>n.createElement("option",{key:o.label,value:o.label},o.label))))}function $(){const i=R,[e,t]=n.useState("#000000"),[r,s]=n.useState("#ffffff"),o=i.find(h=>h.label===e)?.value||e,l=i.find(h=>h.label===r)?.value||r,a=v(o,l),A=x(o,l);return n.createElement(b,null,n.createElement(G,null,n.createElement(u,{gap:"3",p:"2"},n.createElement(E,{title:"Background",value:l,onChange:s,colors:i}),n.createElement(E,{title:"Foreground",value:o,onChange:t,colors:i})),n.createElement(u,{justify:"center",fontWeight:"semibold",fontSize:"2xl",p:"2",outline:"none",borderWidth:"1px",borderColor:"card",suppressContentEditableWarning:!0,contentEditable:!0,style:{background:l,color:o}},"example text showing contrast"),n.createElement("div",null,n.createElement(k,{textAlign:"center",gap:"2.5"},n.createElement(c.span,{fontWeight:"bold",fontSize:"4xl"},A?`${A?.toFixed(2).replace(/[.,]00$/,"")}:1`:":"),n.createElement(c.span,{fontWeight:"semibold",opacity:"0.5"},"Contrast ratio")),a&&n.createElement(c.div,{display:"flex",gap:"5",marginTop:"10"},n.createElement(m,{flex:"1",gap:"4"},n.createElement(c.span,{fontWeight:"semibold"},"Normal Text"),n.createElement(d,{score:a[0],size:"regular"})),n.createElement(m,{flex:"1",gap:"4"},n.createElement(c.span,{fontWeight:"semibold"},"Large Text"),n.createElement(d,{score:a[1],size:"large"}))))))}export{$ as default};
